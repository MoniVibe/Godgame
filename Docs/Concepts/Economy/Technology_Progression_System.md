# Technology Progression System

**Type:** Core Mechanic
**Status:** `<Draft>` - Concept Design
**Version:** Concept v1.0
**Dependencies:** Resource Production & Crafting, Business & Assets, Individual Progression, Education & Tutoring, Wealth & Social Dynamics
**Last Updated:** 2025-11-07

---

## Overview

**Technology Progression** defines how villages advance through 11 tech tiers (0-10), from Bronze Age to Magitech, unlocking new recipes, materials, buildings, and capabilities. Technology advancement is driven by education, experimentation, resource discovery, and cultural knowledge.

**Key Features:**
- **Tech Tiers 0-10:** Bronze Age → Iron Age → Steel Age → Renaissance → Industrial → Modern → Magitech
- **Knowledge Discovery:** Scholars, artisans, and mages discover new techniques
- **Recipe Unlocks:** New crafting recipes become available at each tier
- **Building Upgrades:** Advanced structures require higher tech tiers
- **Material Access:** Higher tiers unlock rare materials (mithril, adamantite, magical crystals)
- **Cultural Knowledge:** Villages accumulate collective knowledge over generations
- **Technology Transfer:** Trade, migration, and espionage spread technology between villages

**For Narrative:** Renaissance innovation (Leonardo da Vinci), Industrial Revolution (steam power), Magical Renaissance (rediscovering lost arcane arts), fallen civilizations leaving artifacts (ancient magitech ruins).

---

## Tech Tier Breakdown

### Tier 0: Stone Age (Primitive)

**Era:** Pre-civilization, tribal survival

**Available Materials:**
- Stone (flint, granite, limestone)
- Wood (oak, pine, basic lumber)
- Hide (leather from hunting)
- Bone (tools, weapons)
- Clay (pottery)

**Recipes:**
- Stone axe, stone knife, wooden spear
- Hide armor (basic protection)
- Wooden shelter
- Campfire (cooking)
- Clay pots

**Buildings:**
- Primitive hut
- Campfire
- Stone circle (primitive worship)

**Characteristics:**
- No metallurgy
- Hunter-gatherer subsistence
- Oral tradition (no writing)
- Tribal leadership

**Base Stats (Weapons):**
- Stone axe: 5 damage
- Wooden spear: 3 damage
- No armor (hide provides 1-2 protection)

---

### Tier 1: Bronze Age (Early Civilization)

**Era:** First metals, writing, organized agriculture

**Unlocked Materials:**
- Copper ore → Copper ingots
- Tin ore → Tin ingots
- Bronze ingots (copper + tin alloy)
- Clay bricks (fired)
- Papyrus/parchment (writing)

**Recipes:**
- Bronze sword (15 damage)
- Bronze spear (12 damage)
- Bronze armor (10 protection)
- Bronze tools (axe, pickaxe, plow)
- Kiln-fired pottery
- Written scrolls

**Buildings:**
- Stone house (brick construction)
- Forge (bronze smelting)
- Temple (organized religion)
- Granary (food storage)
- Library (scroll storage)

**Characteristics:**
- Agriculture-based economy
- Writing enables knowledge accumulation
- Organized religion (prayer power mechanics)
- Bronze weapons superior to stone

**Tech Advancement Requirements:**
- Population: 50+ villagers
- Education: 3+ villagers with Education 30+
- Resources: Copper + Tin deposits discovered
- Time: 10+ game years

---

### Tier 2: Iron Age (Classical Era)

**Era:** Iron weapons, empires, advanced agriculture

**Unlocked Materials:**
- Iron ore → Iron ingots
- Silver ore → Silver ingots
- Gold ore → Gold ingots
- Marble (decorative stone)
- Cotton/linen (textiles)

**Recipes:**
- Iron sword (25 damage, +67% over bronze)
- Iron armor (18 protection, +80% over bronze)
- Iron plow (improved agriculture, +50% yield)
- Gold jewelry (luxury goods)
- Marble statues (beautification)
- Aqueduct components

**Buildings:**
- Villa (stone + marble)
- Aqueduct (irrigation, water supply)
- Arena (entertainment)
- Bathhouse (luxury, hygiene)
- Barracks (military training)
- Market (trade hub)

**Characteristics:**
- Iron weapons dominate warfare
- Imperial ambitions (conquest viable)
- Slave labor (evil/authoritarian villages)
- Advanced infrastructure (aqueducts)

**Tech Advancement Requirements:**
- Population: 100+ villagers
- Education: 5+ villagers with Education 50+
- Resources: Iron deposits, sufficient food production
- Time: 20+ game years

---

### Tier 3: Steel Age (Medieval Era)

**Era:** Steel forging, feudalism, guilds

**Unlocked Materials:**
- Steel ingots (iron + carbon refinement)
- Leather (processed hide)
- Glass (silica smelting)
- Wool (textiles)

**Recipes:**
- Steel sword (30 damage)
- Steel plate armor (28 protection)
- Crossbow (20 ranged damage)
- Glass windows (building upgrades)
- Steel tools (durability +100%)
- Chain mail

**Buildings:**
- Castle (fortified, stone + steel)
- Cathedral (grand worship structure)
- Guild Hall (artisan organization)
- Windmill (grain processing automation)
- Drawbridge (castle defense)

**Characteristics:**
- Steel enables plate armor (heavy infantry)
- Feudal social structures (lords, vassals)
- Guild system emergence (craftsmanship specialization)
- Crossbows democratize warfare (less training needed)

**Tech Advancement Requirements:**
- Population: 200+ villagers
- Education: 10+ villagers with Education 60+
- Resources: Carbon source (charcoal), blast furnace
- Innovation: Blacksmith discovers steel forging (5% chance/year if Education 70+)

---

### Tier 4: Renaissance (Early Modern)

**Era:** Gunpowder, printing, humanism

**Unlocked Materials:**
- Gunpowder (sulfur + charcoal + saltpeter)
- Paper (wood pulp processing)
- Oil paint (artistic)
- Brass (copper + zinc alloy)

**Recipes:**
- Musket (35 ranged damage, armor-piercing)
- Cannon (siege weapon, 100 damage)
- Rapier (28 damage, +finesse)
- Printed books (mass education)
- Brass telescope (exploration)
- Oil paintings (luxury art)

**Buildings:**
- Printing press (book production)
- University (advanced education)
- Observatory (astronomy)
- Artillery foundry (cannon production)
- Opera house (culture)

**Characteristics:**
- Gunpowder revolutionizes warfare (armor obsolete)
- Printing press enables mass literacy
- Humanism (individual achievement valued)
- Scientific method emergence

**Tech Advancement Requirements:**
- Population: 300+ villagers
- Education: 20+ villagers with Education 70+
- Resources: Sulfur, saltpeter, paper materials
- Innovation: Scholar discovers gunpowder formula (3% chance/year if Intelligence 80+, Wisdom 70+)
- Cultural: Library with 100+ books

---

### Tier 5: Industrial Age (Steam Power)

**Era:** Mechanization, factories, urbanization

**Unlocked Materials:**
- Steel (advanced, high-quality)
- Coal (fuel source)
- Rubber (industrial)
- Chemicals (acids, dyes)

**Recipes:**
- Rifle (45 ranged damage, accurate)
- Steam engine (power source)
- Steel rails (railway)
- Factory machines (automation)
- Gas lamp (lighting)
- Dynamite (mining, warfare)

**Buildings:**
- Factory (mass production)
- Railway station (transport)
- Coal mine (fuel)
- Chemical plant (industry)
- Hospital (advanced healthcare)
- Newspaper office (information)

**Characteristics:**
- Mass production (10× output for manufactured goods)
- Urbanization (cities reach 1000+ population)
- Working class emergence (factory laborers)
- Environmental pollution (coal smoke)

**Tech Advancement Requirements:**
- Population: 500+ villagers
- Education: 50+ villagers with Education 75+
- Resources: Coal deposits, iron/steel surplus
- Innovation: Engineer discovers steam engine (2% chance/year if Intelligence 85+, Education 80+)
- Infrastructure: Railway to at least 2 other villages

---

### Tier 6: Modern Age (Electricity)

**Era:** Electricity, automobiles, telecommunications

**Unlocked Materials:**
- Aluminum (lightweight metal)
- Plastic (petroleum-based)
- Electric wiring (copper)
- Concrete (reinforced construction)

**Recipes:**
- Automatic rifle (55 ranged damage, rapid-fire)
- Electric motor (power)
- Automobile (transport)
- Radio (communication)
- Light bulb (lighting)
- Reinforced concrete (construction)

**Buildings:**
- Power plant (electricity generation)
- Automobile factory
- Radio tower (communication network)
- Skyscraper (concrete + steel)
- Research lab (science)

**Characteristics:**
- Electricity transforms daily life
- Automobiles replace horses
- Radio enables instant communication
- Modern medicine (antibiotics, surgery)

**Tech Advancement Requirements:**
- Population: 1000+ villagers
- Education: 100+ villagers with Education 80+
- Resources: Power source (coal/oil), copper, aluminum
- Innovation: Scientist discovers electricity principles (1% chance/year if Intelligence 90+)
- Infrastructure: Power grid, road network

---

### Tier 7: Information Age (Early Magitech)

**Era:** Computers, lasers, early magical fusion

**Unlocked Materials:**
- Silicon (semiconductors)
- Rare earth metals
- Magical crystals (arcane + technology)
- Synthetic materials

**Recipes:**
- Laser rifle (65 ranged damage, energy-based)
- Computer (data processing)
- Magitech focus (arcane + tech hybrid)
- Synthetic armor (45 protection, lightweight)
- Holographic displays
- Arcane battery (magic storage)

**Buildings:**
- Computer center (data processing)
- Laser lab (research)
- Magitech academy (arcane + science fusion)
- Satellite dish (communication)

**Characteristics:**
- Computers emerge (early AI possible)
- Magic and technology begin merging
- Information networks (primitive internet)
- Energy weapons supplement firearms

**Tech Advancement Requirements:**
- Population: 1500+ villagers
- Education: 150+ villagers with Education 85+
- Magic: 20+ mages with Will 80+, Intelligence 85+
- Innovation: Mage-engineer discovers magitech principles (0.5% chance/year)
- Cultural: Open-mindedness (arcane + science collaboration)

---

### Tier 8: Advanced Magitech (Fusion Era)

**Era:** Magic-tech synergy, arcane automation

**Unlocked Materials:**
- Mithril ingots (magical metal)
- Arcane alloys (magic-infused steel)
- Ether crystals (pure magic)
- Nanomaterials (molecular engineering)

**Recipes:**
- Plasma sword (75 damage, energy blade)
- Mithril armor (60 protection, lightweight, magic-resistant)
- Arcane automaton (golem + AI)
- Teleportation circle (instant travel)
- Healing nanites (healthcare)
- Energy shield generator

**Buildings:**
- Fusion reactor (clean power)
- Teleportation hub (fast travel network)
- Automaton factory (robot production)
- Arcane research institute
- Sky fortress (floating structure)

**Characteristics:**
- Magic and technology fully integrated
- Automation replaces manual labor (unemployment crisis possible)
- Teleportation networks eliminate distance
- Lifespan extended (150+ years via healing magic + medicine)

**Tech Advancement Requirements:**
- Population: 2000+ villagers
- Education: 200+ villagers with Education 90+
- Magic: 50+ archmages (Will 90+, Intelligence 90+)
- Innovation: Archmage discovers mithril forging (0.3% chance/year)
- Resources: Mithril deposits (rare, require deep mining)

---

### Tier 9: Transcendent Magitech (Reality Manipulation)

**Era:** Physics-defying technology, dimensional magic

**Unlocked Materials:**
- Adamantite (indestructible metal)
- Void crystals (dimensional energy)
- Starmetal (meteorite-origin)
- Living materials (bio-magitech)

**Recipes:**
- Reality blade (90 damage, ignores armor, dimensional cut)
- Adamantite armor (80 protection, indestructible)
- Dimensional gateway (planar travel)
- Time anchor (temporal manipulation)
- Living weapon (evolves with wielder)
- Singularity core (unlimited power)

**Buildings:**
- Dimensional nexus (planar hub)
- Time observatory (temporal research)
- Reality forge (physics-defying construction)
- Living city (bio-magitech, self-repairing)
- Orbital station (space infrastructure)

**Characteristics:**
- Reality itself becomes malleable
- Dimensional travel routine (other planes accessible)
- Time manipulation possible (localized)
- Immortality achievable (biological + magical)

**Tech Advancement Requirements:**
- Population: 3000+ villagers
- Education: 300+ villagers with Education 95+
- Magic: 100+ reality mages (Will 95+, Intelligence 95+, Wisdom 90+)
- Innovation: Reality mage discovers dimensional principles (0.1% chance/year)
- Resources: Adamantite (extremely rare), void crystals (dimensional rifts)
- Cultural: Philosophical maturity (handle power responsibly)

---

### Tier 10: Godlike Magitech (Apotheosis)

**Era:** Civilization approaches divine power

**Unlocked Materials:**
- Divine essence (harvested from gods/ascended beings)
- Primordial materials (creation itself)
- Conceptual metal (forged from ideas)
- Eternity stone (time crystallized)

**Recipes:**
- Deicide weapon (100+ damage, can kill gods)
- Conceptual armor (100 protection, immune to all concepts)
- Worldforge (create planets)
- Ascension matrix (villager → demigod)
- Universal translator (all languages instantly)
- Chronosphere (rewrite history)

**Buildings:**
- Apotheosis chamber (ascend villagers to demigods)
- Worldforge (planet creation)
- Eternity vault (outside time, perfect storage)
- Concept library (abstract knowledge made tangible)
- Genesis engine (create life)

**Characteristics:**
- Village rivals gods in power
- Can create/destroy worlds
- Immortality standard (death optional)
- Existential questions (what comes after godhood?)

**Tech Advancement Requirements:**
- Population: 5000+ villagers (or fewer, highly educated)
- Education: 500+ villagers with Education 100
- Magic: 200+ transcendent mages (all stats 100)
- Innovation: Transcendent being discovers apotheosis (0.05% chance/year)
- Resources: Divine essence (requires killing/ascending gods)
- Cultural: Purpose (why pursue godhood?)

**Endgame Considerations:**
- Tier 10 is intentionally overpowered (victory condition)
- Reaching Tier 10 may trigger apocalypse cycle (hubris consequence)
- Player must decide: Let village ascend or prevent godlike power?

---

## Knowledge Discovery Mechanics

### Scholar Research

**Scholars** in libraries/universities can research new technologies.

```
Research System:
  Prerequisites:
    - Scholar with Education 60+
    - Library/University building
    - Population educated enough to support research (avg Education 40+)

  Research Process:
    Each year, scholar rolls for discovery:
      DiscoveryChance = (Education / 1000) + (Intelligence / 1000) + (Wisdom / 2000)

      Modifiers:
        + Library size: +0.01% per 100 books
        + University: +0.05% (advanced research)
        + Multiple scholars: +0.02% per additional scholar (collaboration)
        + Village wealth: +0.03% if Ultra High avg wealth (funding)
        + Cultural focus: +0.05% if Scholars' Guild active

      Example:
        Scholar with Education 85, Intelligence 90, Wisdom 75
        University with 300 books
        Scholars' Guild active

        DiscoveryChance = (85/1000) + (90/1000) + (75/2000) + (3 × 0.01) + 0.05 + 0.05
        = 0.085 + 0.090 + 0.0375 + 0.03 + 0.05 + 0.05
        = 0.3425 = 34.25% per year

        Result: ~34% chance per year to discover next tech tier breakthrough

  Discovery Types:
    - Theory (new scientific principle): 40% of discoveries
    - Technique (crafting method): 30% of discoveries
    - Material (new resource processing): 20% of discoveries
    - Application (practical invention): 10% of discoveries

  Example Discovery Event:
    Scholar Elara (Education 88, Intelligence 92, Wisdom 80) in University
    Year 147: Rolls discovery check → Success!
    Discovery: "Gunpowder Formula" (unlocks Tier 4 recipes)

    Notification:
      "Scholar Elara has discovered the secret of gunpowder! Our village can now craft muskets and cannons."

    Effect:
      Village tech tier advances from 3 → 4
      Gunpowder recipes unlocked
      Artillery foundry building becomes available
```

### Artisan Experimentation

**Artisans** (blacksmiths, enchanters, alchemists) can discover new techniques through crafting.

```
Experimentation System:
  Prerequisites:
    - Master artisan (Expertise Tier 7+)
    - High-quality materials (Quality 80+)
    - Business level 5+ (experienced)

  Experimentation Process:
    When crafting at max skill, artisan may accidentally discover improvement:
      ExperimentChance = 0.1% per crafting attempt (rare)

      Critical Success (rolling 100 on Quality check):
        + 5% bonus experimentation chance

      Modifiers:
        + Bold personality: +0.05% (risk-taker)
        + High Wisdom: +0.02% per 10 Wisdom above 70
        + Legendary materials: +0.1% (exotic properties inspire)

      Example:
        Master Blacksmith Erik (Expertise 9, Wisdom 85, Bold)
        Forging steel sword with legendary steel ingots (Quality 95)
        Rolls 98 on Quality check (critical success)

        ExperimentChance = 0.1% + 5% (crit) + 0.05% (Bold) + 0.06% (Wisdom 85)
        = 5.21% chance

        Result: 5.21% chance Erik discovers new technique

  Discovery Types:
    - New alloy (steel, bronze, mithril)
    - Advanced forging technique (folded steel, Damascus)
    - Enchantment method (rune patterns)
    - Alchemical formula (healing potions, transmutation)

  Example Discovery:
    Master Blacksmith Erik crafting Damascus steel sword
    Rolls experimentation success!

    Discovery: "Pattern Welding Technique" (Damascus steel)

    Effect:
      Erik's business unlocks Damascus steel recipe
      Damascus weapons: +10% damage, +20% durability, Rare quality minimum
      Erik gains +10 reputation (famous innovator)
      Other villages may steal/trade technique (espionage, trade)
```

### Resource Discovery

**New materials** are discovered through mining, exploration, or divine intervention.

```
Resource Discovery:
  Mechanisms:
    1. Deep Mining:
       - Miners may discover new ore veins at depth
       - Chance: 1% per 100 mining operations
       - Example: Discover mithril vein at 500m depth

    2. Exploration:
       - Scouts/adventurers explore uncharted territory
       - Chance: 5% per expedition (dangerous)
       - Example: Find adamantite meteorite crater

    3. Divine Intervention:
       - Player drops rare material on village (god miracle)
       - Villagers reverse-engineer properties
       - Example: Player drops ether crystal → Village researches arcane batteries

    4. Trade:
       - Merchant imports rare material from distant village
       - Village artisans experiment with new material
       - Example: Import starmetal → Unlock starmetal recipes

  Discovery Process:
    Once rare material in village:
      Scholars/Artisans analyze properties
      AnalysisTime = MaterialRarity × 1 year

      Example:
        Mithril (Tier 8 material) discovered
        Analysis Time: 8 years (very complex)

        After 8 years:
          Village unlocks mithril recipes
          Mithril forging requires Master blacksmith (Expertise 8+)
          Mithril armor: 60 protection, magic-resistant, lightweight
```

---

## Technology Transfer

### Trade-Based Transfer

**Villages share technology** through trade agreements and merchant networks.

```
Trade Technology Transfer:
  Mechanism:
    Village A (Tier 4) trades with Village B (Tier 2)
    Village B merchants observe gunpowder weapons in Village A
    Knowledge spreads via merchant reports

  Transfer Rate:
    TransferChance = TradeVolume × EducationLevel × Openness

    TradeVolume: 0.1% per 1000 currency traded/month
    EducationLevel: 0.1% per 10 avg Education
    Openness: 1.0 (free market) to 0.2 (authoritarian, closed)

    Example:
      Village A ↔ Village B trade: 5000 currency/month
      Village B avg Education: 50
      Village B openness: 0.8 (moderately open)

      TransferChance = (5000/1000 × 0.1%) × (50/10 × 0.1%) × 0.8
      = 0.5% × 0.5% × 0.8
      = 0.2% per month = 2.4% per year

      Result: Village B has 2.4% chance/year to gain Tier 3 tech (one tier below Village A)

  Transfer Restrictions:
    - Military technology transfers slower (×0.5 rate)
    - Authoritarian villages restrict knowledge outflow (×0.3 rate)
    - Allied villages transfer faster (×2.0 rate)
```

### Migration-Based Transfer

**Villagers migrating** between villages bring knowledge with them.

```
Migration Technology Transfer:
  Mechanism:
    Skilled artisan/scholar migrates from Village A (Tier 5) to Village B (Tier 3)
    Migrant brings knowledge of Tier 4-5 technologies

  Transfer Process:
    If migrant has Education 70+ AND relevant expertise:
      Immediate transfer: Village B gains access to 1-2 specific recipes migrant knows

    Example:
      Master Blacksmith Erik (Tier 5, gunsmith) migrates to Village B (Tier 3)
      Erik brings knowledge: Musket crafting, Rifle crafting

      Effect:
        Village B unlocks musket recipe (even though still Tier 3)
        Village B does NOT advance to Tier 4 (lacks industrial base)
        Erik can teach apprentices musket crafting (Education system)

  Cultural Clash:
    If village tech tier >2 tiers behind migrant:
      Rejection chance: 30% (locals distrust "witchcraft")

      Example:
        Tier 7 magitech engineer migrates to Tier 2 village
        30% chance villagers fear/exile engineer (technology too alien)
```

### Espionage-Based Transfer

**Spies and scouts** steal technology from rival villages.

```
Espionage Technology Transfer:
  Mechanism:
    Village A sends spy to Village B (higher tech tier)
    Spy attempts to steal blueprints, formulas, or techniques

  Spy Mission:
    Success Chance: (Spy Stealth + Spy Intelligence) / 2 - Target Security

    If successful:
      Village A gains 1 random recipe from Village B's tech tier

    If failed:
      Spy captured (diplomatic incident)
      Village B relations: -50

    Example:
      Village A (Tier 3) spies on Village B (Tier 5)
      Spy: Stealth 75, Intelligence 80
      Village B Security: 60

      Success Chance: ((75 + 80) / 2) - 60 = 77.5 - 60 = 17.5%

      Roll: 12 → Success!
      Stolen: "Railway Construction Blueprint"

      Effect:
        Village A gains railway recipe (even though Tier 3)
        Railway requires steel + steam engine (Village A lacks steam engine)
        → Village A can build railway if imports steam engines from Village B (ironic)

  Countermeasures:
    - High security villages (Lawful, Authoritarian): +40 security
    - Closed villages: Spies detected at +50% rate
    - Open villages (Egalitarian): Low security, but also freely share tech
```

---

## Recipe Unlock System

### Base Recipe Structure

Each recipe has **tech tier requirement** and **material requirements**.

```
Recipe Example: Steel Longsword

Requirements:
  Tech Tier: 3 (Steel Age)
  Materials:
    - 3× Steel ingots (Quality 60+)
    - 1× Leather (for grip)
  Artisan: Blacksmith with Expertise 5+
  Business: Smithy level 3+

Output:
  Steel Longsword
  Base Damage: 30
  Durability: 500 hits
  Quality: Inherited from materials + artisan skill
  Rarity: Determined by artisan Wisdom + materials

Tech Tier Gating:
  If village is Tier 2 (Iron Age):
    Steel longsword recipe LOCKED (grayed out in crafting menu)
    Tooltip: "Requires Steel Age technology (Tier 3)"

  Once village advances to Tier 3:
    Steel longsword recipe UNLOCKED
    Blacksmith can craft (if has materials + skill)
```

### Progressive Unlocks

**Higher tiers unlock superior versions** of earlier recipes.

```
Sword Progression:

Tier 0: Stone knife (5 damage)
Tier 1: Bronze sword (15 damage)
Tier 2: Iron sword (25 damage)
Tier 3: Steel sword (30 damage)
Tier 4: Damascus steel rapier (35 damage, +finesse)
Tier 5: Rifle bayonet (45 ranged, 25 melee)
Tier 6: Vibro-blade (55 damage, energy-enhanced)
Tier 7: Laser sword (65 damage, energy blade)
Tier 8: Plasma sword (75 damage, cuts through armor)
Tier 9: Reality blade (90 damage, dimensional cut)
Tier 10: Deicide blade (100+ damage, god-killer)

Armor Progression:

Tier 0: Hide armor (2 protection)
Tier 1: Bronze armor (10 protection)
Tier 2: Iron armor (18 protection)
Tier 3: Steel plate armor (28 protection)
Tier 4: Bulletproof vest (35 protection vs ranged)
Tier 5: Steel + ballistic weave (40 protection)
Tier 6: Kevlar + ceramic plates (50 protection, lightweight)
Tier 7: Synthetic armor (45 protection, full mobility)
Tier 8: Mithril armor (60 protection, magic-resistant)
Tier 9: Adamantite armor (80 protection, indestructible)
Tier 10: Conceptual armor (100 protection, immune to concepts)
```

---

## Building Tech Requirements

### Construction Tiers

**Buildings require tech tier** to construct.

```
Building Tech Gates:

Tier 0:
  - Primitive hut (wood + hide)
  - Campfire (stone)

Tier 1:
  - Stone house (brick)
  - Forge (bronze smelting)
  - Temple (organized religion)
  - Granary (food storage)

Tier 2:
  - Villa (stone + marble)
  - Aqueduct (irrigation)
  - Arena (entertainment)
  - Bathhouse (luxury)
  - Barracks (military)

Tier 3:
  - Castle (fortified)
  - Cathedral (grand worship)
  - Guild Hall (artisan org)
  - Windmill (automation)

Tier 4:
  - Printing press (mass literacy)
  - University (advanced education)
  - Observatory (astronomy)
  - Artillery foundry (cannons)

Tier 5:
  - Factory (mass production)
  - Railway station (transport)
  - Coal mine (fuel)
  - Hospital (modern healthcare)

Tier 6:
  - Power plant (electricity)
  - Automobile factory
  - Radio tower (communication)
  - Skyscraper (high-rise)

Tier 7:
  - Computer center (data)
  - Laser lab (research)
  - Magitech academy (fusion)

Tier 8:
  - Fusion reactor (clean power)
  - Teleportation hub (fast travel)
  - Automaton factory (robots)
  - Sky fortress (floating)

Tier 9:
  - Dimensional nexus (planar)
  - Time observatory (temporal)
  - Reality forge (physics-defying)
  - Living city (bio-magitech)

Tier 10:
  - Apotheosis chamber (ascend to demigod)
  - Worldforge (create planets)
  - Eternity vault (outside time)
  - Genesis engine (create life)

Construction Requirements:
  Tech Tier: Must meet building's tier
  Materials: Must have required materials (steel, concrete, etc.)
  Labor: Skilled builders (Education 60+ for Tier 5+)
  Time: Construction time scales with complexity
```

---

## Cultural Knowledge System

### Village Knowledge Pool

**Villages accumulate collective knowledge** over time.

```
Knowledge Pool Component:
  Fields:
    - TotalKnowledge: Accumulated knowledge points
    - TechTier: Current tech tier (0-10)
    - DiscoveredRecipes: List of unlocked recipes
    - ResearchProgress: Progress toward next tier (0-100%)

Knowledge Accumulation:
  Sources:
    + Education: +1 knowledge per villager with Education 50+ (per year)
    + Scholars: +10 knowledge per scholar actively researching (per year)
    + Books: +0.1 knowledge per book in libraries (per year)
    + Trade: +5 knowledge per trade agreement (per year)
    + Migration: +20 knowledge per skilled migrant (one-time)
    + Espionage: +50 knowledge per successful spy mission (one-time)

  Example Village:
    Population: 200 villagers
    Educated (50+): 80 villagers
    Scholars: 5
    Books: 300
    Trade Agreements: 3

    Annual Knowledge Gain:
      Education: 80 × 1 = 80
      Scholars: 5 × 10 = 50
      Books: 300 × 0.1 = 30
      Trade: 3 × 5 = 15

      Total: 80 + 50 + 30 + 15 = 175 knowledge/year

Tech Tier Advancement:
  Requirements (per tier):
    Tier 0→1: 500 knowledge
    Tier 1→2: 1,500 knowledge
    Tier 2→3: 3,000 knowledge
    Tier 3→4: 5,000 knowledge
    Tier 4→5: 8,000 knowledge
    Tier 5→6: 12,000 knowledge
    Tier 6→7: 18,000 knowledge
    Tier 7→8: 25,000 knowledge
    Tier 8→9: 35,000 knowledge
    Tier 9→10: 50,000 knowledge

  Example:
    Village at Tier 2, 2000/3000 knowledge toward Tier 3
    Gaining 175 knowledge/year
    Time to Tier 3: (3000 - 2000) / 175 = 5.7 years

    Notification (Year 152):
      "Our village has achieved Steel Age technology! We can now forge steel and build castles."
```

### Knowledge Loss (Dark Ages)

**Villages can LOSE technology** through catastrophe.

```
Knowledge Loss Events:
  Triggers:
    - Library burned (fire, siege): -50% knowledge (books destroyed)
    - Scholar genocide (purge, plague): -30% knowledge (experts dead)
    - Apocalypse cycle: -90% knowledge (civilization collapse)
    - Isolation (no trade for 50 years): -1% knowledge/year (stagnation)

  Example:
    Village at Tier 5 (12,000 knowledge)
    Cathedral burns (library inside)
    Knowledge loss: 12,000 × 0.5 = 6,000 lost

    New Knowledge: 6,000 (still Tier 4, but close to losing it)
    If knowledge drops below Tier 4 threshold (5,000):
      → Village regresses to Tier 3 (Steel Age)
      → Tier 4-5 recipes LOCKED (factories, rifles unavailable)

  Recovery:
    Rebuilding knowledge:
      - Rebuild library, rewrite books (slow)
      - Import knowledge from other villages (trade, migration)
      - Rediscover lost techniques (scholars research from scratch)

    Dark Age Duration: 20-100 years depending on severity
```

---

## DOTS Implementation Architecture

```csharp
namespace Godgame.Technology
{
    /// <summary>
    /// Village technology state component.
    /// Tracks tech tier and knowledge accumulation.
    /// </summary>
    public struct VillageTechnology : IComponentData
    {
        public byte TechTier;                       // 0-10 (Bronze Age to Apotheosis)
        public uint TotalKnowledge;                 // Accumulated knowledge points
        public uint KnowledgeTowardNextTier;        // Progress (0 to threshold)
        public uint NextTierThreshold;              // Knowledge needed for next tier
        public uint LastDiscoveryTick;              // When last breakthrough occurred

        // Knowledge sources (annual rates)
        public ushort EducationKnowledge;           // From educated villagers
        public ushort ScholarKnowledge;             // From active scholars
        public ushort BookKnowledge;                // From library collection
        public ushort TradeKnowledge;               // From trade agreements
    }

    /// <summary>
    /// Unlocked recipes for village.
    /// Tracks which crafting recipes are available.
    /// </summary>
    [InternalBufferCapacity(64)]
    public struct UnlockedRecipe : IBufferElementData
    {
        public enum RecipeCategory : byte
        {
            Weapon,
            Armor,
            Tool,
            Building,
            Vehicle,
            Potion,
            Enchantment,
            Technology,
        }

        public RecipeCategory Category;
        public FixedString64Bytes RecipeName;       // "Steel Longsword", "Musket", "Steam Engine"
        public byte RequiredTechTier;               // Minimum tier to craft
        public uint UnlockedTick;                   // When recipe was discovered
        public bool IsExperimental;                 // Artisan-discovered (not standard)
    }

    /// <summary>
    /// Scholar research component.
    /// Tracks active research projects.
    /// </summary>
    public struct ScholarResearch : IComponentData
    {
        public enum ResearchType : byte
        {
            Theory,         // New scientific principle
            Technique,      // Crafting method
            Material,       // Resource processing
            Application,    // Practical invention
        }

        public Entity ScholarEntity;                // Villager conducting research
        public ResearchType Type;
        public byte TargetTechTier;                 // Researching this tier's breakthrough
        public uint ResearchStartTick;
        public float DiscoveryChance;               // Annual % chance (0.0-1.0)

        public bool IsActive;
    }

    /// <summary>
    /// Artisan experimentation component.
    /// Tracks crafting experiments for technique discovery.
    /// </summary>
    public struct ArtisanExperimentation : IComponentData
    {
        public Entity ArtisanEntity;                // Blacksmith, enchanter, alchemist
        public uint TotalCraftingAttempts;          // Lifetime crafts
        public uint CriticalSuccesses;              // Quality 95+ crafts
        public float ExperimentationChance;         // % per craft attempt

        public FixedString64Bytes LastDiscovery;    // "Damascus Steel", "Pattern Welding"
        public uint LastDiscoveryTick;
    }

    /// <summary>
    /// Material discovery component.
    /// Tracks newly discovered rare materials.
    /// </summary>
    public struct MaterialDiscovery : IComponentData
    {
        public enum DiscoveryMethod : byte
        {
            Mining,         // Deep mining
            Exploration,    // Scout expedition
            Trade,          // Imported
            Divine,         // God miracle drop
        }

        public MaterialType Material;               // Mithril, Adamantite, Ether Crystal
        public DiscoveryMethod Method;
        public uint DiscoveryTick;
        public uint AnalysisTimeYears;              // Years to reverse-engineer
        public uint AnalysisCompleteTick;           // When recipes unlock

        public bool IsAnalyzing;                    // In progress
        public bool IsUnlocked;                     // Recipes available
    }

    /// <summary>
    /// Technology transfer tracking.
    /// Records tech spread between villages.
    /// </summary>
    public struct TechnologyTransfer : IBufferElementData
    {
        public enum TransferMethod : byte
        {
            Trade,          // Merchant knowledge spread
            Migration,      // Skilled villager moved
            Espionage,      // Spy stole secrets
            Alliance,       // Allied village shared
        }

        public Entity SourceVillage;                // Where tech came from
        public Entity DestinationVillage;           // Where tech went to
        public TransferMethod Method;
        public byte TechTierTransferred;            // Which tier's knowledge
        public FixedString64Bytes SpecificRecipe;  // If single recipe (migration/espionage)
        public uint TransferTick;
    }

    /// <summary>
    /// Knowledge loss event tracking.
    /// Records catastrophic knowledge destruction.
    /// </summary>
    public struct KnowledgeLossEvent : IComponentData
    {
        public enum LossType : byte
        {
            LibraryBurned,      // -50% knowledge
            ScholarGenocide,    // -30% knowledge
            Apocalypse,         // -90% knowledge
            Isolation,          // -1%/year knowledge
        }

        public LossType Type;
        public uint LossEventTick;
        public uint KnowledgeLost;                  // Amount lost
        public byte TechTiersLost;                  // How many tiers regressed

        public bool IsRecovering;                   // Dark Age recovery phase
        public uint RecoveryStartTick;
    }

    /// <summary>
    /// Recipe component for crafting definitions.
    /// Defines what can be crafted and requirements.
    /// </summary>
    public struct CraftingRecipe : IComponentData
    {
        public FixedString64Bytes RecipeName;
        public byte RequiredTechTier;               // Tier gate (0-10)
        public byte RequiredExpertise;              // Artisan skill level
        public byte RequiredBusinessLevel;          // Business quality requirement

        // Output
        public ProductType OutputType;              // Weapon, Armor, etc.
        public ushort OutputQuantity;               // How many produced
        public byte BaseQuality;                    // Starting quality (before artisan)

        // Time/cost
        public uint CraftingTimeTicks;              // How long to craft
        public ushort CraftingCost;                 // Currency cost (labor, overhead)
    }

    /// <summary>
    /// Recipe material requirements buffer.
    /// Defines inputs needed for crafting recipe.
    /// </summary>
    [InternalBufferCapacity(8)]
    public struct RecipeMaterial : IBufferElementData
    {
        public MaterialType Material;               // Steel ingot, Leather, etc.
        public byte QuantityRequired;               // How much needed
        public byte MinQuality;                     // Minimum quality (0 = any)
        public Rarity MinRarity;                    // Minimum rarity (Common = any)
    }
}
```

---

## Integration with Existing Systems

### Resource Production & Crafting

✅ **Tech tier gates recipes:**
- Village at Tier 2 cannot craft steel swords (requires Tier 3)
- Artisan skill irrelevant if village tech tier too low

✅ **Material unlocks tied to tech:**
- Mithril recipes unlock at Tier 8 (even if mithril discovered earlier)
- Material quality/rarity still applies within tier

### Business & Assets

✅ **Business tech specialization:**
- Tier 5 blacksmith can craft rifles (if village Tier 5+)
- Business reputation tied to tech tier (legendary Tier 8+ only)

✅ **Building requirements:**
- Factory requires Tier 5 (Industrial Age)
- Castle requires Tier 3 (Steel Age)

### Education & Tutoring

✅ **Education drives discovery:**
- Scholars need Education 60+ to research
- Village avg Education affects knowledge accumulation rate

✅ **Teaching spreads techniques:**
- Master artisan teaches apprentices new recipes
- Education system enables knowledge preservation

### Wealth & Social Dynamics

✅ **Tech advancement requires wealth:**
- Research expensive (scholars need funding)
- Poor villages stagnate at low tiers
- Wealthy villages advance faster (buy rare materials, fund universities)

---

## Failure Modes

**Stagnation (No Progress):**
```
Village lacks educated population
  → No scholars to research
  → No knowledge accumulation
  → Stuck at low tier indefinitely

Recovery:
  - Player educates villagers (Education miracle)
  - Import scholars from other villages (migration)
  - Trade with advanced villages (tech transfer)
```

**Regression (Dark Age):**
```
Library burned + scholars killed
  → Knowledge loss: -80%
  → Tech tier drops from 5 → 3
  → Factories unusable, rifles can't be crafted

Recovery:
  - Rebuild library, rewrite books (20+ years)
  - Import knowledge from surviving villages
  - Rediscover techniques through experimentation
```

**Tech Monopoly:**
```
One village reaches Tier 10 (Apotheosis)
  → Godlike power imbalance
  → Can destroy all other villages effortlessly
  → Game becomes trivial

Resolution:
  - Apocalypse cycle triggered (reset to Stone Age)
  - Other villages unite against Tier 10 threat
  - Player intervention (prevent ascension)
```

---

## Player Interaction

**Observable:**
- Tech tier displayed on village UI (icon: Bronze Age, Iron Age, etc.)
- New recipes announced (notifications)
- Buildings visually upgrade (Stone house → Brick house → Castle)
- Villagers wear era-appropriate clothing/armor

**Control Points:**
- **Indirect:** Player educates villagers → Faster tech progress
- **Indirect:** Player blesses scholars → Higher discovery chance
- **Direct (potential):** Player can gift knowledge (miracle: "Enlightenment")

**Learning Curve:**
- **Beginner:** Notices villages improve over time (better buildings, weapons)
- **Intermediate:** Understands tech tiers gate progress, values education
- **Expert:** Manipulates tech transfer to create dependencies, prevent rival advancement

---

## Related Documentation

- **Resource Production & Crafting:** [Resource_Production_And_Crafting.md](Resource_Production_And_Crafting.md) - Tech tier gates recipes
- **Business & Assets:** [BusinessAndAssets.md](BusinessAndAssets.md) - Business quality tied to tech
- **Education & Tutoring:** [../Villagers/Education_And_Tutoring_System.md](../Villagers/Education_And_Tutoring_System.md) - Education drives research
- **Individual Progression:** [../Villagers/Individual_Progression_System.md](../Villagers/Individual_Progression_System.md) - Intelligence/Wisdom affect discovery
- **Wealth & Social Dynamics:** [../Villagers/Wealth_And_Social_Dynamics.md](../Villagers/Wealth_And_Social_Dynamics.md) - Wealth funds research
- **Apocalypse & Rebirth:** [../World/Apocalypse_And_Rebirth_Cycles.md](../World/Apocalypse_And_Rebirth_Cycles.md) - Tech reset cycles

---

**For Designers:** Balance tech progression speed to create meaningful era transitions. Villages should spend 50-100 game years per tier (early tiers faster, late tiers slower).

**For Implementers:** Start with simple tech tier gates on recipes. Knowledge accumulation and discovery systems can be layered on incrementally.

**For Narrative:** Technology progression creates emergent historical narratives (Renaissance scholars, Industrial Revolution, Magitech singularity) that drive long-term engagement.

---

**Last Updated:** 2025-11-07
**Status:** Concept Draft - Core tech tier structure and progression mechanics captured, ready for integration with crafting and education systems
