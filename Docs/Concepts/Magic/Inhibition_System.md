# Inhibition System

**Status:** Concept
**Category:** Magic - Interference & Suppression
**Scope:** Individual → Area → Regional
**Created:** 2025-01-17
**Last Updated:** 2025-01-17

---

## Purpose

**Primary Goal:** Create comprehensive interference mechanisms that suppress, jam, block, or absorb magical, technological, and communication systems, enabling strategic denial-of-capability gameplay.

**Secondary Goals:**
- Enable area-denial tactics (null-zones, silence zones, jamming fields)
- Create counterplay against magic, sensors, communications, and FTL drives
- Support quality-based inhibitor construction (material > skill > craft > product hierarchy)
- Provide nuanced interactions between inhibition types and casting methods

---

## System Overview

### Key Insight

**Inhibition creates zones where capabilities are suppressed, with different inhibition types affecting different systems differently.**

- **Null-Zones:** Complete magical suppression - no spells (verbal or somatic), no rituals, no mana availability
- **Silence Areas:** Suppress verbal casting only - somatic (hand signs) still work, rituals unaffected
- **Jamming Fields:** Disrupt sensors, communications, and FTL drives (Space4X)
- **Mana/Magic Inhibitors:** Either absorb incoming spells or prevent mana availability entirely
- **Quality Matters:** Inhibitor effectiveness determined by construction quality (materials, skill, craft, product quality)

### Components

1. **Inhibitor Entities:** Constructed items that create inhibition zones
2. **Inhibition Zones:** Spatially-defined areas with suppression effects
3. **Inhibition Types:** Null-zone, silence, jamming, mana drain, spell absorption
4. **Quality System:** Material quality → skill quality → craft quality → product quality
5. **Interaction Rules:** How different inhibition types interact with casting methods and systems

---

## Inhibition Types

### 1. Null-Zones (Complete Magical Suppression)

**Function:** Complete suppression of all magical activity within zone boundaries.

**Effects:**
- **Verbal Spells:** Cannot cast (voice blocked)
- **Somatic Spells (Hand Signs):** Cannot cast (gestures blocked)
- **Rituals:** Cannot initiate (all magical channeling blocked)
- **Mana Availability:** None (mana drained or inaccessible)
- **Spell Absorption:** Incoming spells from outside are absorbed/neutralized

**Mechanism:**
- Creates anti-magic field that disrupts all magical resonance
- Mana cannot exist or flow within zone
- Magical constructs decay rapidly
- Existing spells fizzle on entering zone

**Use Cases:**
- Securing locations from magical infiltration
- Prison cells for captured mages
- Defensive perimeters around non-magical facilities
- Countering enemy magical superiority

**Counterplay:**
- Destroy inhibitor source (physical device/sigil)
- Overload inhibitor (flood with excess magical energy)
- Bypass zone boundaries (enter via non-magical means)
- Use quality-resistant magical items (very rare, high quality)

---

### 2. Silence Areas (Verbal Suppression Only)

**Function:** Suppress verbal/spoken magic while allowing somatic and ritual casting.

**Effects:**
- **Verbal Spells:** Cannot cast (voice suppressed)
- **Somatic Spells (Hand Signs):** Can cast (gestures unaffected)
- **Rituals:** Can cast (focus-based, doesn't require voice)
- **Mana Availability:** Normal (mana still flows)
- **Communications:** Spoken language suppressed (but sign language works)

**Mechanism:**
- Disrupts vocal/sound-based magical resonance
- Does not interfere with gesture-based magic
- Focus-channeled rituals unaffected (rituals use focus, not voice)

**Use Cases:**
- Countering verbal casters while allowing somatic casters
- Stealth operations (prevent magical alarm spells)
- Interrogation (prevent verbal magic escape attempts)
- Strategic advantage (favor mute/somatic specialists)

**Nuances:**
- Hand signs still work (somatic casting immune)
- Rituals still work (focus-based, not voice-based)
- Sign language communication still works
- Mute casters unaffected (already don't use voice)

**Counterplay:**
- Use somatic spells instead of verbal
- Use rituals (focus-based, not voice-based)
- Destroy silence generator
- Use sign language communication

---

### 3. Jamming Fields (Sensor/Communication/FTL Disruption)

**Function:** Disrupt technological sensors, communications, and FTL drive systems.

**Effects:**
- **Sensors:** Range reduced or completely blocked (visual/radar/magical sensors)
- **Communications:** Messages blocked, scrambled, or intercepted
- **FTL/Warp Drives (Space4X):** Cannot initiate or maintain warp jumps
- **Magic:** Unaffected (pure technological interference)

**Mechanism:**
- Emits interference signals that disrupt electromagnetic/sensor systems
- Creates "noise" that masks or corrupts signals
- Warp drive inhibitors create localized space-time interference

**Use Cases (Space4X):**
- Prevent enemy fleet escape (warp jamming)
- Hide fleet movements (sensor jamming)
- Communication blackout (intelligence advantage)
- Defensive installations (protect stations from sensor detection)

**Use Cases (Godgame):**
- Prevent magical scrying (sensor jamming)
- Block long-range communication spells
- Hide settlements from magical detection

**Counterplay:**
- Destroy jammer source
- Use alternative communication (physical messengers, magic if not jammed)
- Enhanced sensor systems (quality-resistant)
- Navigate around jamming field

---

### 4. Mana/Magic Inhibitors

**Function:** Either absorb incoming spells or prevent mana availability entirely.

**Two Variants:**

#### 4.1. Mana Drain Inhibitors

**Effect:** Prevents mana from being available within zone.

**Mechanism:**
- Actively drains or blocks mana flow
- Spells cannot be cast due to insufficient mana
- Existing mana-based effects decay

**Interaction:**
- **Verbal Spells:** Cannot cast (no mana)
- **Somatic Spells:** Cannot cast (no mana)
- **Rituals:** Can still work (use focus, not mana)
- **Incoming Spells:** Pass through (not absorbed, but target has no mana to cast)

#### 4.2. Spell Absorption Inhibitors

**Effect:** Absorbs incoming spells within zone.

**Mechanism:**
- Intercepts and neutralizes spells as they enter zone
- Absorbed spells feed inhibitor (may power it up)
- Spells targeting entities within zone are absorbed before reaching target

**Interaction:**
- **Verbal Spells:** Can attempt to cast, but spells absorbed
- **Somatic Spells:** Can attempt to cast, but spells absorbed
- **Rituals:** May be absorbed if they generate spell effects
- **Incoming Spells:** Absorbed before reaching target

**Quality Factor:**
- Higher quality absorbers can absorb more powerful spells
- Exceeding absorption capacity causes overload (inhibitor destroyed)
- Low quality may only absorb weaker spells

---

## Quality System for Inhibitors

### Quality Formula

Inhibitors follow the standard constructed entity quality formula:

```
InhibitorQuality = 
    (MaterialQuality × MaterialWeight) +
    (CrafterSkill × SkillWeight) +
    (CraftQuality × CraftWeight) +
    (ProductQuality × ProductWeight)

Default Weights:
  MaterialQuality:  0.40 (40%)
  CrafterSkill:     0.35 (35%)
  CraftQuality:     0.15 (15%)
  ProductQuality:   0.10 (10%)

Range: 0-100
Typical Range: 30-95 (depending on materials and skill)
```

**Quality Affects:**
- **Zone Radius:** Higher quality = larger inhibition area
- **Suppression Strength:** Higher quality = stronger suppression (harder to resist)
- **Durability:** Higher quality = more resistant to overload/destruction
- **Efficiency:** Higher quality = lower maintenance/energy cost
- **Capacity:** Higher quality = can handle more powerful effects (for absorbers)

**Quality Tiers:**
- **Crude (0-20):** 5m radius, weak suppression, easily overloaded
- **Poor (21-40):** 10m radius, moderate suppression
- **Common (41-60):** 20m radius, standard suppression
- **Fine (61-80):** 35m radius, strong suppression
- **Excellent (81-95):** 50m radius, very strong suppression
- **Masterwork (96-100):** 75m radius, maximum suppression, resistant to overload

---

## Interaction Matrix

### Casting Methods vs. Inhibition Types

| Casting Method | Null-Zone | Silence Area | Jamming Field | Mana Drain | Spell Absorption |
|---------------|-----------|--------------|---------------|------------|------------------|
| **Verbal Spells** | ❌ Blocked | ❌ Blocked | ✅ Works | ❌ No mana | ❌ Absorbed |
| **Somatic (Hand Signs)** | ❌ Blocked | ✅ Works | ✅ Works | ❌ No mana | ❌ Absorbed |
| **Rituals (Focus-based)** | ❌ Blocked | ✅ Works | ✅ Works | ✅ Works | ⚠️ May absorb effects |
| **Non-Magical Tech** | ✅ Works | ✅ Works | ❌ Jammed | ✅ Works | ✅ Works |

### System Interactions

| System | Null-Zone | Silence | Jamming | Mana Drain | Spell Absorption |
|--------|-----------|---------|---------|------------|------------------|
| **Sensors** | ✅ Works | ✅ Works | ❌ Jammed | ✅ Works | ✅ Works |
| **Communications** | ✅ Works (non-magical) | ❌ Suppressed (verbal) | ❌ Jammed | ✅ Works | ✅ Works |
| **Warp Drives (Space4X)** | ✅ Works | ✅ Works | ❌ Jammed | ✅ Works | ✅ Works |
| **Mana Flow** | ❌ Blocked | ✅ Normal | ✅ Normal | ❌ Drained | ✅ Normal |
| **Focus Channeling** | ❌ Blocked | ✅ Normal | ✅ Normal | ✅ Normal | ⚠️ May absorb |

---

## Inhibition Zone Mechanics

### Zone Properties

**Shape:** Typically spherical, can be cylindrical or box-shaped for specialized inhibitors

**Properties:**
- **Center:** Location of inhibitor entity
- **Radius:** Determined by quality (see Quality System)
- **Falloff:** Optional gradual falloff at edges (weaker suppression near boundaries)
- **Height:** For cylindrical/box zones

**Zone Detection:**
- Entities can sense when entering inhibition zones (magical resonance disruption)
- Visual indicators (optional): Glowing barriers, shimmer effects, energy fields
- Map indicators: Show inhibitor coverage areas

### Zone Stacking

**Multiple Inhibitors:**
- Zones can overlap
- Effects stack additively (stronger suppression in overlap)
- Quality matters: Higher quality inhibitor dominates in conflict

**Example:**
- Two null-zones overlap → double-strength suppression (harder to resist)
- Silence zone + mana drain → verbal spells blocked AND no mana (redundant but stronger)

---

## Counterplay & Resistance

### Resistance Mechanisms

**Magical Resistance:**
- High magical resistance reduces inhibition effectiveness
- Quality-resistant items provide partial protection
- Requires significantly higher quality inhibitor to overcome

**Overloading:**
- Flooding inhibitor with excess energy can destroy it
- Risk: May cause explosion or backlash
- Requires coordinated attack (multiple casters or powerful single source)

**Physical Destruction:**
- Destroy inhibitor device directly
- Requires locating hidden/invisible inhibitors
- Defended locations prioritize inhibitor protection

**Bypassing:**
- Enter via non-magical means (physical entry without magic)
- Use alternative casting methods (somatic in silence zones)
- Use alternative systems (focus-based rituals instead of mana-based spells)

---

## Construction & Deployment

### Building Inhibitors

**Requirements:**
- Specialized crafting knowledge (inhibitor recipes)
- Rare materials (anti-magic crystals, jamming components, etc.)
- Skilled crafters (affects quality)
- Appropriate facilities (workshops, laboratories)

**Material Quality Factors:**
- **Null-Zones:** Anti-magic crystals, void-stone, suppression alloys
- **Silence Areas:** Sound-dampening materials, resonance disruptors
- **Jamming Fields:** Electronic components, signal generators, interference emitters
- **Mana Inhibitors:** Mana-draining materials, absorption crystals

**Construction Time:**
- Simple inhibitors: Hours
- Complex inhibitors: Days to weeks
- Quality affects construction time (higher quality takes longer)

### Deployment

**Portable Inhibitors:**
- Small, low-quality inhibitors can be carried
- Limited radius (5-15m typically)
- Useful for tactical situations

**Fixed Installations:**
- Large, high-quality inhibitors are stationary
- Large radius (20-75m+)
- Strategic defensive installations

**Networked Inhibitors:**
- Multiple inhibitors can be linked
- Create larger coverage areas
- Requires infrastructure (power, control systems)

---

## Examples & Use Cases

### Null-Zone Example

**Scenario:** Village wants to protect treasury from magical theft.

**Implementation:**
- Build masterwork null-zone inhibitor (Quality 98)
- Deploy in treasury building
- 75m radius covers entire building and surrounding area
- All magical entry methods blocked
- Guards can still use non-magical entry

**Counterplay:**
- Thieves must use physical means only (lockpicking, digging tunnels)
- No magical teleportation, invisibility, or spell-based entry
- Guards may use non-magical traps and alarms

---

### Silence Area Example

**Scenario:** Assassins want to eliminate verbal caster while avoiding detection.

**Implementation:**
- Deploy portable silence area inhibitor (Quality 65)
- 20m radius covers target area
- Target cannot cast verbal spells (alarm spells blocked)
- Assassins use somatic spells (hand signs) - unaffected
- Ritual-based defenses still active (focus-based, not voice-based)

**Nuances:**
- Target attempts verbal spell → fails silently
- Target could switch to somatic if known, but may not have learned
- Ritual-based alarms still trigger (focus-based, not voice-based)

---

### Jamming Field Example (Space4X)

**Scenario:** Fleet wants to prevent enemy carrier from warping away.

**Implementation:**
- Deploy warp drive jamming field (Quality 70)
- 35m radius covers carrier
- Carrier cannot initiate warp jump
- Sensors also jammed (fleet hidden from carrier's sensors)
- Communications jammed (carrier cannot call for help)

**Counterplay:**
- Carrier must physically escape jamming field radius
- Cannot warp while in field
- Must destroy jammer or move outside range

---

### Spell Absorption Example

**Scenario:** Fortress defense against magical siege.

**Implementation:**
- Deploy spell absorption inhibitor network (Quality 85)
- Multiple absorbers cover fortress perimeter
- Incoming spells absorbed before reaching targets
- Absorbed spells power inhibitors (sustained defense)
- Exceeding capacity causes overload (risk)

**Counterplay:**
- Coordinated massive bombardment may overload absorbers
- Physical siege weapons (catapults, cannons) unaffected
- Ground assault bypasses magical absorption

---

## Integration Points

### With Existing Systems

**Languages & Magic System:**
- Inhibition interacts with verbal vs. somatic casting
- Rituals (focus-based) have different interaction rules
- Counterspell mechanics may work within/in response to inhibitors

**Quality System:**
- Uses standard material > skill > craft > product quality formula
- Quality determines inhibitor effectiveness, radius, durability

**Spatial Systems:**
- Zones are spatial modifiers
- Integrates with spatial grid/partitioning systems
- Entities check zone membership for suppression effects

**Combat Systems:**
- Strategic denial-of-capability
- Area-denial tactics
- Counterplay and tactical options

**Communication Systems:**
- Jamming affects communication spells
- Silence affects verbal communication
- Sign language and non-verbal communication alternatives

**FTL/Warp Systems (Space4X):**
- Warp drive inhibition creates tactical FTL denial
- Fleet movement control
- Strategic positioning importance

---

## Technical Considerations

### Performance

- Zone membership checks (spatial queries)
- Effect application (suppression calculations)
- Overlap resolution (multiple zones)
- Quality-based calculations (per inhibitor)

**Optimization:**
- Spatial partitioning for zone queries
- Cached zone membership (only recalculate on movement)
- Batch processing for multiple entities

### Data Structures

```
InhibitorComponent:
  - InhibitorType (null-zone, silence, jamming, mana-drain, absorption)
  - Quality (0-100)
  - ZoneRadius (calculated from quality)
  - IsActive (on/off state)
  - CurrentCapacity (for absorbers)
  - MaxCapacity (for absorbers)

InhibitionZone:
  - Center (float3)
  - Radius (float)
  - Type (InhibitorType)
  - Strength (derived from quality)
  - FalloffStart (optional)

EntityInhibitionState:
  - IsInNullZone (bool)
  - IsInSilenceZone (bool)
  - IsInJammingField (bool)
  - ManaAvailability (0.0-1.0 multiplier)
  - SuppressionStrength (0.0-1.0)
```

---

## Future Expansions

### Advanced Inhibitors

**Selective Inhibition:**
- Inhibit specific spell types only
- Allow certain magical effects while blocking others
- Requires advanced quality and specialization

**Mobile Inhibitors:**
- Inhibitors that move (mounted on vehicles, carried by entities)
- Dynamic zone coverage
- Tactical deployment flexibility

**Temporal Inhibition:**
- Time-delayed activation
- Periodic suppression (pulsing fields)
- Temporary inhibitors (consumable)

**Quality Evolution:**
- Inhibitors improve over time with maintenance
- Ritual reinforcement increases quality
- Degradation over time without maintenance

---

## Open Questions

1. Should inhibitors consume resources (energy, mana, fuel) to maintain?
2. Can inhibitors be hacked/repurposed by enemies?
3. Should there be "anti-inhibitor" devices that create safe zones within inhibition?
4. How do inhibitors interact with divine/miracle magic (Godgame)?
5. Should warp jammers affect sub-light drives or only FTL (Space4X)?

---

## Integration with Mana Grid System

**Unified Implementation:**

The Inhibition System integrates with the Mana Grid System for unified field-based implementation:

- **Null-Zones:** Use `ManaInfluence` component with `Mode = ClampMax`, `Strength = -1.0` to drain mana to zero
- **Mana Drain Inhibitors:** Use `ManaInfluence` with `Mode = Additive`, `Strength < 0` to subtract mana
- **Spell Absorption:** Use `ManaInfluence` with `Mode = SuppressCasting` to add disruption (separate channel from mana level)
- **Quality Integration:** Inhibitor quality affects `Strength` and `Radius` of `ManaInfluence` component
- **Mobile Inhibitors:** Moving null-zones/siphons update mana grid through dynamic `ManaInfluence` positions

See `Docs/Concepts/Magic/Mana_Grid_System.md` for technical implementation details.

---

## Related Documentation

- **Mana Grid System:** `Docs/Concepts/Magic/Mana_Grid_System.md` - Unified field-based implementation
- **Languages & Magic System:** `Docs/Concepts/Core/Languages_And_Magic_System.md` - Verbal vs. somatic casting
- **Rituals & Sigil Networks:** `Docs/Concepts/Magic/Rituals_And_Sigil_Networks.md` - Focus-based rituals
- **Quality System:** `Docs/Concepts/Economy/Resource_Production_And_Crafting.md` - Quality formulas
- **Spatial Systems:** `Packages/com.moni.puredots/Runtime/Runtime/Spatial/` - Zone mechanics
- **Communication Systems:** `Docs/Concepts/Core/Communication_And_Language_System.md` - Jamming integration

---

**For Implementers:** Focus on zone membership queries, quality-based calculations, interaction matrix logic, and ManaInfluence component integration  
**For Designers:** Focus on counterplay, strategic use cases, and quality progression curves

